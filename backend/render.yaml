services:
  - type: web
    name: laravel-backend
    env: docker
    region: oregon  # o cambialo según tu preferencia
    plan: free
    branch: main
    dockerfilePath: backend/Dockerfile
    dockerContext: backend

    buildCommand: ""  # vacío porque ya está en Dockerfile
    startCommand: ""  # Laravel servirá desde Apache, ya configurado

    envVars:
      - key: APP_ENV
        value: production

      - key: APP_KEY
        value: base64:TU_APP_KEY  # reemplazalo por tu APP_KEY real

      - key: FIREBASE_CREDENTIALS_JSON
        sync: false  # lo cargás desde el panel web por seguridad

      - key: LOG_CHANNEL
        value: stderr  # opcional pero útil en entornos dockerizados

      # si usás base de datos externa:
      # - key: DB_CONNECTION
      #   value: mysql
      # - key: DB_HOST
      #   value: tu-host
      # - key: DB_PORT
      #   value: "3306"
      # - key: DB_DATABASE
      #   value: tu-db
      # - key: DB_USERNAME
      #   value: tu-usuario
      # - key: DB_PASSWORD
      #   value: tu-password
